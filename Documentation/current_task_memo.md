# プレイヤー移動不具合修正タスク

## タスク概要
ユーザからプレイヤーの移動に関する不具合報告がありました。以下の2つの不具合を修正します：

## 不具合内容

### 1. タイルマップ外に移動できてしまう不具合
**問題**: プレイヤーがマップの境界を越えて移動できてしまう
**原因**: TilemapManagerで範囲外座標に対してtrue（移動可能）を返している
**影響**: プレイヤーがマップ外の無限空間に移動可能

### 2. Rock属性のブロックに移動できてしまう不具合  
**問題**: Rock属性のブロック上にプレイヤーが移動できてしまう
**原因**: TilemapManagerが未設定の場合、全ての移動制約が無効化される
**影響**: 移動制約が効かず、Rock、Skyブロックなど全てのブロックに移動可能

## 修正計画

### タスク1: タイルマップ外移動不具合の修正
- [ ] TilemapManagerの境界チェック修正（範囲外→移動不可）
- [ ] デバッグログメッセージの修正
- [ ] プレイヤー仕様書の境界チェック仕様明記
- [ ] 境界チェックの統合テスト追加

### タスク2: Rock属性ブロック移動不具合の修正
- [ ] PlayerMoveServiceの安全化（TilemapManager未設定→移動不可）
- [ ] TilemapSystemTesterのPlayerController連携機能追加
- [ ] Rock属性ブロック制約の統合テスト強化
- [ ] 実際のシーンでのTilemapManager設定確認

## 期待される結果
- プレイヤーがマップ範囲外に移動できなくなる
- Rock属性ブロック上への移動が確実に制限される
- 移動制約が適切に機能し、安全性が向上する

## 技術的詳細
- `TilemapManager.CanPlayerPassThrough()`: 境界チェック修正
- `PlayerMoveService.CanMove()`: 未設定時の安全性向上
- `TilemapSystemTester`: PlayerController自動設定機能