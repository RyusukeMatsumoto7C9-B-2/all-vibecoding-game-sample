# プレイヤー 仕様書

## 概要
プレイヤーは地下ダンジョンを探索するキャラクターで、タイルマップ上を移動しながら土ブロックを破壊して進路を開拓する。

## 目的
- 直感的で制約のある移動システムを提供する
- ブロック破壊による戦略的な経路選択を実現する
- 岩ブロックによる移動制限で難易度を調整する

## 機能要件

- ✅ **上下左右の4方向移動システム** (完全実装済み - WASD入力、アニメーション対応)
  - ✅ **移動制約** プレイヤーはブロックの上以外は移動できない( EmptyとGroundブロックの上のみ移動可能 )
  - ✅ **境界チェック** マップ範囲外への移動を制限（範囲外移動不可）
  - ✅ **安全性確保** TilemapManager未設定時の移動制限（フェールセーフ）
- ✅ **Groundブロック破壊機能** (実装済み - 移動時に自動破壊)
- ✅ **Rockブロックに対する移動制限** (完全実装済み - 確実な移動制限機能)
- ✅ **初期配置システム** (実装済み - X10, Y15座標での固定配置)

## 動作仕様

### 移動システム
- **移動方向**: 上下左右の4方向のみ（斜め移動は不可）
- **移動方式**: グリッドベース移動（1マス単位）
- **入力方式**: WASD キー

### 初期配置
- **初期位置**: X10, Y15

### ブロック相互作用
- ✅ **Emptyブロック**: 通過可能（実装済み）
- ✅ **Groundブロック**: 通過可能（実装済み）
- ✅ **Groundブロック破壊**: 移動時に自動破壊（実装済み）
- ✅ **Rockブロック**: 破壊不可、通過不可（実装済み）
- ✅ **Treasureブロック**: 通過可能（実装済み）
- ✅ **Skyブロック**: 通過不可（実装済み）
- ✅ **マップ境界**: 範囲外移動不可（実装済み）

## テスト仕様
テスト実装の方針とルールについては、以下のドキュメントを参照してください：
- `Documentation/Rules/TestRule.md`

## 注意事項
- 移動処理はフレームレートに依存しない実装とする

## 更新履歴
| 日付 | 変更内容 | 担当者 |
|------|----------|--------|
| 2025-07-12 | 初版作成 | Claude |
| 2025-07-12 | 描画仕様追加（正方形2Dスプライト）、入力方式詳細化（WASD） | Claude |
| 2025-07-22 | 仕様書をシンプル化、技術詳細・実装詳細を削除 | Claude |
| 2025-07-22 | 移動制約機能完全実装完了、実装状況を✅❌で明記 | Claude |