# CLAUDE.md

このファイルは、このリポジトリでコードを扱う際のClaude Code (claude.ai/code)向けのガイダンスを提供します。

## プロジェクト概要

これはUnity 6000.0.51f1で構築されたUnity 2Dゲームプロジェクトで、Model Context Protocol (MCP)サーバー機能を統合しています。このプロジェクトはUniversal Render Pipeline (URP)を使用し、Input System、非同期操作用のUniTask、NuGetパッケージ管理などの最新のUnityパッケージを含んでいます。

## 主要なアーキテクチャコンポーネント

### Unityプロジェクト構造
```
Assets/MyGame/
├── Scripts/           # コアゲームロジック
├── Scenes/           # ゲームシーン (Sample)
```

# 開発ルール

- 日本語で受け答えをする
- 絵文字は使用禁止
- ユーザからの指示や仕様に疑問があれば作業を中断し、質問すること
- 強制追加など -f コマンドは禁止
- 適切なタイミングでコミットを実行すること
- コミットのコメントは日本語で行うこと

## コーディングルール
- 重要なロジックはPureC#のクラスで作成する
- PureC#で構築されたクラスは必ずUnity TestRunner でテストが行える形にする

### テストルール テストコードの作成は以下の方針 ( t-wada流 ) で実施する
#### 基本方針
- Red: 失敗するテストを書く
- Green: テストを通す最小限の実装
- Refactor: リファクタリング
- 小さなステップで進める
- 仮実装（ベタ書き）から始める
- 三角測量で一般化する
- 明白な実装が分かる場合は直接実装してもOK
- テストリストを常に更新する
- 不安なところからテストを書く

### リファクタリングルール
- リファクタリングはMartin Fowlerの提唱する手法で実施する
- リファクタリング後は必ずテストコードを検証する

## ドキュメント管理

### ドキュメント構造
```
Documentation/
├── Specifications/    # ゲーム仕様書、機能仕様書
├── Tasks/            # タスク管理用ドキュメント
├── Templates/        # ドキュメントテンプレート
```

### ドキュメント参照ルール
- タスク実行前に必ず Documentation/Specifications/ 配下の関連ドキュメントを確認する
- 新機能開発時は該当する仕様書を参照し、仕様に従って実装する
- 仕様に不明な点があれば作業を中断し、ユーザに確認を求める
- タスク完了後は Documentation/Tasks/ にタスクの実行結果を記録する

### ドキュメントファイル命名規則
- 仕様書: `{機能名}_spec.md`
- タスク記録: `{YYYY-MM-DD}_{タスク名}.md`
- テンプレート: `{種類}_template.md`